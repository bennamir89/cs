<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AS & A2 Computer Science</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --text-color: #333;
            --light-gray: #f5f5f5;
            --border-color: #ddd;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #fff;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 1.5rem;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: var(--secondary-color);
        }

        nav ul li a.active {
            color: var(--secondary-color);
        }

        .language-toggle {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background-color: var(--light-gray);
            padding: 1.5rem;
            overflow-y: auto;
            height: calc(100vh - 70px);
            position: sticky;
            top: 70px;
        }

        .sidebar h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .syllabus-section {
            margin-bottom: 2rem;
        }

        .syllabus-section h4 {
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .syllabus-section h4:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .syllabus-section ul {
            list-style: none;
            padding-left: 1rem;
            margin-bottom: 0.5rem;
            display: none;
        }

        .syllabus-section.active ul {
            display: block;
        }

        .syllabus-section li {
            margin-bottom: 0.3rem;
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .syllabus-section li:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .syllabus-section li a {
            color: var(--text-color);
            text-decoration: none;
            display: block;
        }

        /* Content Styles */
        .content {
            flex: 1;
            padding: 2rem;
        }

        .page-title {
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
        }

        /* Card Styles */
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .card-body {
            color: var(--text-color);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-primary {
            background-color: var(--secondary-color);
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-warning {
            background-color: var(--warning-color);
        }

        .btn-danger {
            background-color: var(--accent-color);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.6rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        /* Table Styles */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
        }

        .table th, .table td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .table th {
            background-color: var(--light-gray);
            font-weight: 600;
        }

        .table tr:hover {
            background-color: rgba(52, 152, 219, 0.05);
        }

        /* News Section */
        .news-item {
            display: flex;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .news-item:last-child {
            border-bottom: none;
        }

        .news-date {
            flex: 0 0 100px;
            color: var(--secondary-color);
            font-weight: 600;
        }

        .news-content {
            flex: 1;
        }

        .news-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        /* Resource List */
        .resource-list {
            list-style: none;
        }

        .resource-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            border-bottom: 1px solid var(--border-color);
        }

        .resource-item:last-child {
            border-bottom: none;
        }

        .resource-info {
            flex: 1;
        }

        .resource-name {
            font-weight: 500;
            margin-bottom: 0.3rem;
        }

        .resource-meta {
            font-size: 0.9rem;
            color: #666;
        }

        /* Homework Submission */
        .submission-item {
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 1rem;
        }

        .submission-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .submission-title {
            font-weight: 600;
        }

        .submission-date {
            color: #666;
            font-size: 0.9rem;
        }

        .submission-status {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-pending {
            background-color: rgba(243, 156, 18, 0.2);
            color: var(--warning-color);
        }

        .status-submitted {
            background-color: rgba(46, 204, 113, 0.2);
            color: var(--success-color);
        }

        .status-graded {
            background-color: rgba(52, 152, 219, 0.2);
            color: var(--secondary-color);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            padding: 1rem 1.5rem;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateX(120%);
            transition: transform 0.3s ease-out;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-success {
            border-left: 4px solid var(--success-color);
        }

        .notification-error {
            border-left: 4px solid var(--accent-color);
        }

        .notification-info {
            border-left: 4px solid var(--secondary-color);
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .sidebar {
                width: 250px;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                top: 0;
            }

            .header-container {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            nav ul li {
                margin: 0 0.5rem;
            }
        }

        /* Loading Spinner */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: var(--secondary-color);
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #666;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #ccc;
        }

        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">AS & A2 Computer Science</div>
            <nav>
                <ul>
                    <li><a href="index.html" class="nav-link active">Home</a></li>
                    <li><a href="#syllabus" class="nav-link">Syllabus</a></li>
                    <li><a href="resources.html" class="nav-link">Resources</a></li>
                    <li><a href="#homework" class="nav-link">Homework</a></li>
                    <li><a href="admin.html" class="nav-link" style="color: #f39c12;"><i class="fas fa-user-shield"></i> Admin</a></li>
                </ul>
            </nav>
            <button class="language-toggle" id="languageToggle">
                <i class="fas fa-globe"></i>
                <span id="currentLang">EN</span>
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>Syllabus Navigation</h3>
            
            <!-- AS Level Syllabus -->
            <div class="syllabus-section active">
                <h4><span>AS Level</span> <i class="fas fa-chevron-down"></i></h4>
                <ul>
                    <li><a href="#" data-chapter="1">1 Information representation</a></li>
                    <li><a href="#" data-chapter="2">2 Communication</a></li>
                    <li><a href="#" data-chapter="3">3 Hardware</a></li>
                    <li><a href="#" data-chapter="4">4 Processor Fundamentals</a></li>
                    <li><a href="#" data-chapter="5">5 System Software</a></li>
                    <li><a href="#" data-chapter="6">6 Security, privacy and data integrity</a></li>
                    <li><a href="#" data-chapter="7">7 Ethics and Ownership</a></li>
                    <li><a href="#" data-chapter="8">8 Databases</a></li>
                    <li><a href="#" data-chapter="9">9 Algorithm Design and Problem-solving</a></li>
                    <li><a href="#" data-chapter="10">10 Data Types and Structures</a></li>
                    <li><a href="#" data-chapter="11">11 Programming</a></li>
                    <li><a href="#" data-chapter="12">12 Software Development</a></li>
                </ul>
            </div>
            
            <!-- A2 Level Syllabus -->
            <div class="syllabus-section">
                <h4><span>A2 Level</span> <i class="fas fa-chevron-down"></i></h4>
                <ul>
                    <li><a href="#" data-chapter="13">13 Data Representation</a></li>
                    <li><a href="#" data-chapter="14">14 Communication and internet</a></li>
                    <li><a href="#" data-chapter="15">15 Hardware and Virtual Machines</a></li>
                    <li><a href="#" data-chapter="16">16 System Software</a></li>
                    <li><a href="#" data-chapter="17">17 Security</a></li>
                    <li><a href="#" data-chapter="18">18 Artificial Intelligence (AI)</a></li>
                    <li><a href="#" data-chapter="19">19 Computational thinking and Problem-solving</a></li>
                    <li><a href="#" data-chapter="20">20 Further Programming</a></li>
                </ul>
            </div>
        </aside>

        <!-- Content Area -->
        <main class="content">
            <!-- Home Page -->
            <div id="home-page" class="page-content active">
                <h1 class="page-title">Welcome to AS & A2 Computer Science</h1>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">About This Course</h2>
                    </div>
                    <div class="card-body">
                        <p>This course covers the Cambridge International AS & A Level Computer Science (9618) syllabus. Here you'll find all the resources, notes, and assignments you need to succeed in your studies.</p>
                        <p>The course is designed to help students develop computational thinking, programming skills, and an understanding of computer systems.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Recent News</h2>
                    </div>
                    <div class="card-body" id="news-container">
                        <!-- News items will be loaded here -->
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Upcoming Deadlines</h2>
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Assignment</th>
                                    <th>Due Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="assignments-table">
                                <!-- Assignments will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Syllabus Page -->
            <div id="syllabus-page" class="page-content">
                <h1 class="page-title">Syllabus</h1>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Select a Chapter</h2>
                    </div>
                    <div class="card-body">
                        <p>Please select a chapter from the sidebar to view the detailed syllabus and notes.</p>
                    </div>
                </div>
                
                <div id="chapter-content" class="card" style="display: none;">
                    <div class="card-header">
                        <h2 class="card-title" id="chapter-title">Chapter Title</h2>
                    </div>
                    <div class="card-body" id="chapter-body">
                        <!-- Chapter content will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Resources Page -->
            <div id="resources-page" class="page-content">
                <h1 class="page-title">Resources</h1>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Available Resources</h2>
                    </div>
                    <div class="card-body">
                        <ul class="resource-list" id="resources-list">
                            <!-- Resources will be loaded here -->
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Homework Page -->
            <div id="homework-page" class="page-content">
                <h1 class="page-title">Homework</h1>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Submit Homework</h2>
                    </div>
                    <div class="card-body">
                        <form id="homework-form">
                            <div class="form-group">
                                <label for="assignment-select">Select Assignment</label>
                                <select class="form-control" id="assignment-select" required>
                                    <option value="">-- Select Assignment --</option>
                                    <!-- Assignment options will be loaded here -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="student-name">Your Name</label>
                                <input type="text" class="form-control" id="student-name" required>
                            </div>
                            <div class="form-group">
                                <label for="student-id">Student ID</label>
                                <input type="text" class="form-control" id="student-id" required>
                            </div>
                            <div class="form-group">
                                <label for="homework-file">Upload File</label>
                                <input type="file" class="form-control" id="homework-file" required>
                            </div>
                            <div class="form-group">
                                <label for="homework-comments">Additional Comments</label>
                                <textarea class="form-control" id="homework-comments" placeholder="Any additional notes or comments about your submission..."></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit Homework</button>
                        </form>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Your Submissions</h2>
                    </div>
                    <div class="card-body" id="submissions-container">
                        <!-- Submissions will be loaded here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-message">Action completed successfully!</span>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">Modal Title</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Modal content will be loaded here -->
            </div>
            <div class="modal-footer" id="modal-footer">
                <button class="btn" id="modal-cancel">Cancel</button>
                <button class="btn btn-primary" id="modal-confirm">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const navLinks = document.querySelectorAll('.nav-link');
        const pageContents = document.querySelectorAll('.page-content');
        const syllabusSections = document.querySelectorAll('.syllabus-section h4');
        const chapterLinks = document.querySelectorAll('.sidebar a[data-chapter]');
        const languageToggle = document.getElementById('languageToggle');
        const currentLang = document.getElementById('currentLang');
        const notification = document.getElementById('notification');
        const notificationMessage = document.getElementById('notification-message');
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalClose = document.getElementById('modal-close');
        const modalCancel = document.getElementById('modal-cancel');
        const modalConfirm = document.getElementById('modal-confirm');
        
        // Data containers
        const newsContainer = document.getElementById('news-container');
        const resourcesList = document.getElementById('resources-list');
        const assignmentsTable = document.getElementById('assignments-table');
        const assignmentSelect = document.getElementById('assignment-select');
        const submissionsContainer = document.getElementById('submissions-container');
        
        // Forms
        const homeworkForm = document.getElementById('homework-form');
        
        // Language state
        let isMandarin = false;
        
        // Initialize data
        function initializeData() {
            // Initialize default data if not exists
            if (!localStorage.getItem('cs_news')) {
                const defaultNews = [
                    {
                        id: 1,
                        title: 'Mock Exam Schedule Released',
                        date: '2023-06-15',
                        content: 'The mock exam schedule for the upcoming term has been released. Please check the Resources section for the detailed timetable.'
                    },
                    {
                        id: 2,
                        title: 'New Programming Resources Added',
                        date: '2023-06-10',
                        content: 'New resources for Python programming have been added to the Resources section. These include video tutorials and practice exercises.'
                    },
                    {
                        id: 3,
                        title: 'Homework Deadline Reminder',
                        date: '2023-06-05',
                        content: 'Reminder that the Algorithm Design homework is due on June 20, 2023. Please submit your work through the Homework section.'
                    }
                ];
                localStorage.setItem('cs_news', JSON.stringify(defaultNews));
            }
            
            if (!localStorage.getItem('cs_resources')) {
                const defaultResources = [
                    {
                        id: 1,
                        name: 'Introduction to Data Representation',
                        chapter: '1.1',
                        type: 'PDF',
                        size: '2.5 MB',
                        uploadDate: '2023-06-01',
                        url: '#'
                    },
                    {
                        id: 2,
                        name: 'Network Topologies',
                        chapter: '2.1',
                        type: 'PowerPoint',
                        size: '5.1 MB',
                        uploadDate: '2023-06-03',
                        url: '#'
                    },
                    {
                        id: 3,
                        name: 'CPU Architecture',
                        chapter: '4.1',
                        type: 'PDF',
                        size: '3.2 MB',
                        uploadDate: '2023-06-05',
                        url: '#'
                    },
                    {
                        id: 4,
                        name: 'Assembly Language Examples',
                        chapter: '4.2',
                        type: 'ZIP',
                        size: '1.8 MB',
                        uploadDate: '2023-06-07',
                        url: '#'
                    },
                    {
                        id: 5,
                        name: 'Operating Systems',
                        chapter: '5.1',
                        type: 'PDF',
                        size: '4.3 MB',
                        uploadDate: '2023-06-10',
                        url: '#'
                    },
                    {
                        id: 6,
                        name: 'Database Design Principles',
                        chapter: '8.1',
                        type: 'PowerPoint',
                        size: '6.7 MB',
                        uploadDate: '2023-06-12',
                        url: '#'
                    },
                    {
                        id: 7,
                        name: 'Algorithm Design Techniques',
                        chapter: '9.2',
                        type: 'PDF',
                        size: '3.9 MB',
                        uploadDate: '2023-06-14',
                        url: '#'
                    },
                    {
                        id: 8,
                        name: 'Python Programming Basics',
                        chapter: '11.1',
                        type: 'ZIP',
                        size: '8.2 MB',
                        uploadDate: '2023-06-16',
                        url: '#'
                    }
                ];
                localStorage.setItem('cs_resources', JSON.stringify(defaultResources));
            }
            
            if (!localStorage.getItem('cs_assignments')) {
                const defaultAssignments = [
                    {
                        id: 1,
                        title: 'Algorithm Design Homework',
                        chapter: '9',
                        dueDate: '2023-06-20',
                        description: 'Complete the algorithm design exercises in the textbook.'
                    },
                    {
                        id: 2,
                        title: 'Database Design Project',
                        chapter: '8',
                        dueDate: '2023-06-25',
                        description: 'Design a database system for a small library.'
                    },
                    {
                        id: 3,
                        title: 'Programming Assignment',
                        chapter: '11',
                        dueDate: '2023-07-05',
                        description: 'Implement a sorting algorithm in Python.'
                    }
                ];
                localStorage.setItem('cs_assignments', JSON.stringify(defaultAssignments));
            }
            
            if (!localStorage.getItem('cs_submissions')) {
                const defaultSubmissions = [
                    {
                        id: 1,
                        assignmentId: 1,
                        assignmentTitle: 'Data Representation Assignment',
                        studentName: 'Student',
                        studentId: '2023001',
                        submissionDate: '2023-06-01',
                        status: 'graded',
                        grade: 'A',
                        feedback: 'Excellent work on binary conversion exercises. Make sure to review floating-point representation for the next assessment.'
                    },
                    {
                        id: 2,
                        assignmentId: 2,
                        assignmentTitle: 'Network Topologies Research',
                        studentName: 'Student',
                        studentId: '2023001',
                        submissionDate: '2023-06-05',
                        status: 'graded',
                        grade: 'B+',
                        feedback: 'Good research on different network topologies. Consider adding more real-world examples in future assignments.'
                    },
                    {
                        id: 3,
                        assignmentId: 3,
                        assignmentTitle: 'Assembly Language Program',
                        studentName: 'Student',
                        studentId: '2023001',
                        submissionDate: '2023-06-10',
                        status: 'submitted',
                        grade: null,
                        feedback: 'Your submission has been received and is currently being reviewed.'
                    }
                ];
                localStorage.setItem('cs_submissions', JSON.stringify(defaultSubmissions));
            }
            
            if (!localStorage.getItem('cs_notes')) {
                const defaultNotes = {};
                localStorage.setItem('cs_notes', JSON.stringify(defaultNotes));
            }
        }
        
        // Load data from localStorage
        function loadData() {
            // Load news
            const news = JSON.parse(localStorage.getItem('cs_news') || '[]');
            newsContainer.innerHTML = '';
            
            if (news.length === 0) {
                newsContainer.innerHTML = '<div class="empty-state"><i class="fas fa-newspaper"></i><h3>No news available</h3><p>Check back later for updates.</p></div>';
            } else {
                news.sort((a, b) => new Date(b.date) - new Date(a.date));
                news.forEach(item => {
                    const newsItem = document.createElement('div');
                    newsItem.className = 'news-item';
                    newsItem.innerHTML = `
                        <div class="news-date">${formatDate(item.date)}</div>
                        <div class="news-content">
                            <div class="news-title">${item.title}</div>
                            <p>${item.content}</p>
                        </div>
                    `;
                    newsContainer.appendChild(newsItem);
                });
            }
            
            // Load resources
            const resources = JSON.parse(localStorage.getItem('cs_resources') || '[]');
            resourcesList.innerHTML = '';
            
            if (resources.length === 0) {
                resourcesList.innerHTML = '<div class="empty-state"><i class="fas fa-folder-open"></i><h3>No resources available</h3><p>Check back later for updates.</p></div>';
            } else {
                resources.forEach(item => {
                    const resourceItem = document.createElement('li');
                    resourceItem.className = 'resource-item';
                    resourceItem.innerHTML = `
                        <div class="resource-info">
                            <div class="resource-name">${item.name}</div>
                            <div class="resource-meta">Chapter ${item.chapter} • ${item.type} • ${item.size} • Uploaded: ${formatDate(item.uploadDate)}</div>
                        </div>
                        <button class="btn btn-primary" data-resource-id="${item.id}">Download</button>
                    `;
                    resourcesList.appendChild(resourceItem);
                });
            }
            
            // Load assignments
            const assignments = JSON.parse(localStorage.getItem('cs_assignments') || '[]');
            assignmentsTable.innerHTML = '';
            assignmentSelect.innerHTML = '<option value="">-- Select Assignment --</option>';
            
            if (assignments.length === 0) {
                assignmentsTable.innerHTML = '<tr><td colspan="3" class="text-center">No assignments available</td></tr>';
            } else {
                assignments.forEach(item => {
                    // Add to table
                    const row = document.createElement('tr');
                    const today = new Date();
                    const dueDate = new Date(item.dueDate);
                    const statusClass = dueDate < today ? 'status-pending' : 'status-pending';
                    const statusText = dueDate < today ? 'Overdue' : 'Pending';
                    
                    row.innerHTML = `
                        <td>${item.title}</td>
                        <td>${formatDate(item.dueDate)}</td>
                        <td><span class="submission-status ${statusClass}">${statusText}</span></td>
                    `;
                    assignmentsTable.appendChild(row);
                    
                    // Add to select dropdown
                    const option = document.createElement('option');
                    option.value = item.id;
                    option.textContent = item.title;
                    assignmentSelect.appendChild(option);
                });
            }
            
            // Load submissions
            const submissions = JSON.parse(localStorage.getItem('cs_submissions') || '[]');
            submissionsContainer.innerHTML = '';
            
            if (submissions.length === 0) {
                submissionsContainer.innerHTML = '<div class="empty-state"><i class="fas fa-file-alt"></i><h3>No submissions yet</h3><p>Submit your homework to see it here.</p></div>';
            } else {
                submissions.sort((a, b) => new Date(b.submissionDate) - new Date(a.submissionDate));
                submissions.forEach(item => {
                    const submissionItem = document.createElement('div');
                    submissionItem.className = 'submission-item';
                    
                    let statusClass, statusText;
                    if (item.status === 'graded') {
                        statusClass = 'status-graded';
                        statusText = `Graded: ${item.grade}`;
                    } else if (item.status === 'submitted') {
                        statusClass = 'status-submitted';
                        statusText = 'Submitted - Pending Review';
                    } else {
                        statusClass = 'status-pending';
                        statusText = 'Pending';
                    }
                    
                    submissionItem.innerHTML = `
                        <div class="submission-header">
                            <div class="submission-title">${item.assignmentTitle}</div>
                            <div class="submission-date">Submitted: ${formatDate(item.submissionDate)}</div>
                        </div>
                        <div class="submission-status ${statusClass}">${statusText}</div>
                        <p>${item.feedback}</p>
                    `;
                    submissionsContainer.appendChild(submissionItem);
                });
            }
        }
        
        // Format date function
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
        
        // Handle navigation
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                const href = link.getAttribute('href');
                
                // If it's an external link, let it navigate normally
                if (href.includes('.html')) {
                    return;
                }
                
                // Otherwise, handle internal navigation
                e.preventDefault();
                const targetPage = link.getAttribute('data-page') || href.substring(1);
                
                // Update active nav link
                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                // Show target page
                pageContents.forEach(page => {
                    page.classList.remove('active');
                    if (page.id === `${targetPage}-page`) {
                        page.classList.add('active');
                    }
                });
            });
        });
        
        // Handle anchor links for internal navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const targetId = this.getAttribute('href').substring(1);
                const targetPage = document.getElementById(`${targetId}-page`);
                
                if (targetPage) {
                    e.preventDefault();
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show target page
                    pageContents.forEach(page => {
                        page.classList.remove('active');
                        if (page.id === `${targetId}-page`) {
                            page.classList.add('active');
                        }
                    });
                }
            });
        });
        
        // Syllabus section toggle
        syllabusSections.forEach(section => {
            section.addEventListener('click', () => {
                const parentSection = section.parentElement;
                parentSection.classList.toggle('active');
                
                // Toggle chevron icon
                const icon = section.querySelector('i');
                if (parentSection.classList.contains('active')) {
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                } else {
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                }
            });
        });
        
        // Chapter link click
        chapterLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const chapter = link.getAttribute('data-chapter');
                
                // Navigate to syllabus page if not already there
                pageContents.forEach(page => {
                    page.classList.remove('active');
                    if (page.id === 'syllabus-page') {
                        page.classList.add('active');
                    }
                });
                
                navLinks.forEach(l => l.classList.remove('active'));
                document.querySelector('[href="#syllabus"]').classList.add('active');
                
                // Load chapter content
                loadChapterContent(chapter);
            });
        });
        
        // Load chapter content
        function loadChapterContent(chapter) {
            const chapterContent = document.getElementById('chapter-content');
            const chapterTitle = document.getElementById('chapter-title');
            const chapterBody = document.getElementById('chapter-body');
            
            // Show loading state
            chapterTitle.textContent = `Loading Chapter ${chapter}...`;
            chapterBody.innerHTML = '<div class="spinner"></div>';
            chapterContent.style.display = 'block';
            
            // Check if notes exist for this chapter
            const notes = JSON.parse(localStorage.getItem('cs_notes') || '{}');
            
            // Simulate loading delay
            setTimeout(() => {
                // Set chapter title
                chapterTitle.textContent = getChapterTitle(chapter);
                
                // Set chapter content
                if (notes[chapter]) {
                    chapterBody.innerHTML = notes[chapter].content;
                    
                    // If Mandarin is enabled and translation exists, show it
                    if (isMandarin && notes[chapter].mandarin) {
                        const mandarinContent = document.createElement('div');
                        mandarinContent.className = 'mandarin-content';
                        mandarinContent.innerHTML = `<h3>中文翻译</h3><p>${notes[chapter].mandarin}</p>`;
                        chapterBody.appendChild(mandarinContent);
                    }
                } else {
                    chapterBody.innerHTML = getChapterContent(chapter);
                    
                    // If Mandarin is enabled, show translation
                    if (isMandarin) {
                        const mandarinContent = document.createElement('div');
                        mandarinContent.className = 'mandarin-content';
                        mandarinContent.innerHTML = `<h3>中文翻译</h3><p>${getChapterMandarin(chapter)}</p>`;
                        chapterBody.appendChild(mandarinContent);
                    }
                }
            }, 500);
        }
        
        // Get chapter title
        function getChapterTitle(chapter) {
            const titles = {
                '1': '1 Information representation',
                '2': '2 Communication',
                '3': '3 Hardware',
                '4': '4 Processor Fundamentals',
                '5': '5 System Software',
                '6': '6 Security, privacy and data integrity',
                '7': '7 Ethics and Ownership',
                '8': '8 Databases',
                '9': '9 Algorithm Design and Problem-solving',
                '10': '10 Data Types and Structures',
                '11': '11 Programming',
                '12': '12 Software Development',
                '13': '13 Data Representation',
                '14': '14 Communication and internet',
                '15': '15 Hardware and Virtual Machines',
                '16': '16 System Software',
                '17': '17 Security',
                '18': '18 Artificial Intelligence (AI)',
                '19': '19 Computational thinking and Problem-solving',
                '20': '20 Further Programming'
            };
            return titles[chapter] || 'Chapter Not Found';
        }
        
        // Get chapter content
        function getChapterContent(chapter) {
            const contents = {
                '1': '<h3>1.1 Data Representation</h3><p>Data representation refers to the various methods used to represent information in a computer system. Computers store and process data in binary format (0s and 1s), but different types of data require different representation methods.</p><h3>1.2 Multimedia – Graphics, Sound</h3><p>Multimedia data such as graphics and sound require special representation techniques. Graphics can be represented using bitmap or vector formats, while sound is represented using digital sampling techniques.</p><h3>1.3 Compression</h3><p>Data compression is the process of reducing the size of data to save storage space or transmission time. There are two main types of compression: lossless and lossy.</p>',
                '2': '<h3>2.1 Networks including the internet</h3><p>A computer network is a collection of interconnected computing devices that can exchange data and share resources. The internet is a global network of networks that connects billions of devices worldwide.</p>',
                '3': '<h3>3.1 Computers and their components</h3><p>A computer system consists of hardware components that work together to process data. The main components include the CPU, memory, storage devices, input devices, and output devices.</p><h3>3.2 Logic Gates and Logic Circuits</h3><p>Logic gates are the basic building blocks of digital circuits. They perform logical operations on one or more binary inputs to produce a single binary output.</p>',
                '4': '<h3>4.1 Central Processing Unit (CPU) Architecture</h3><p>The CPU is the brain of the computer, responsible for executing instructions. It consists of the Arithmetic Logic Unit (ALU), Control Unit (CU), and registers.</p><h3>4.2 Assembly Language</h3><p>Assembly language is a low-level programming language that is closely related to machine code. It uses mnemonic codes to represent machine instructions.</p><h3>4.3 Bit manipulation</h3><p>Bit manipulation involves working with individual bits within a binary number. Common bit manipulation operations include shifting, masking, and setting/clearing bits.</p>',
                '5': '<h3>5.1 Operating Systems</h3><p>An operating system (OS) is system software that manages computer hardware and software resources and provides common services for computer programs.</p><h3>5.2 Language Translators</h3><p>Language translators convert source code written in one programming language into another language, typically machine code that can be executed by the computer.</p>',
                '6': '<h3>6.1 Data Security</h3><p>Data security involves protecting digital data from unauthorized access, corruption, or theft throughout its lifecycle.</p><h3>6.2 Data Integrity</h3><p>Data integrity refers to maintaining and ensuring the accuracy and consistency of data over its entire lifecycle.</p>',
                '7': '<h3>7.1 Ethics and Ownership</h3><p>Computer ethics deals with the moral issues that arise from the use of computers and information technology. Ownership refers to the legal rights associated with intellectual property.</p>',
                '8': '<h3>8.1 Database Concepts</h3><p>A database is an organized collection of structured information, or data, typically stored electronically in a computer system.</p><h3>8.2 Database Management Systems (DBMS)</h3><p>A DBMS is software that enables users to create, maintain, and control access to databases.</p><h3>8.3 Data Definition Language (DDL) and Data Manipulation Language (DML)</h3><p>DDL is used to define and modify database structures, while DML is used to retrieve, insert, modify, and delete data in a database.</p>',
                '9': '<h3>9.1 Computational Thinking Skills</h3><p>Computational thinking is a problem-solving process that involves various techniques and strategies for understanding and solving complex problems.</p><h3>9.2 Algorithms</h3><p>An algorithm is a finite sequence of well-defined instructions to solve a specific problem or perform a specific task.</p>',
                '10': '<h3>10.1 Data Types and Records</h3><p>Data types define the kind of data that can be stored in a variable. Records are composite data types that group related data items together.</p><h3>10.2 Arrays</h3><p>An array is a data structure that stores a collection of elements of the same data type in contiguous memory locations.</p><h3>10.3 Files</h3><p>Files are used to store data permanently on secondary storage devices. They can be organized in various ways depending on the requirements of the application.</p><h3>10.4 Introduction to Abstract Data Types (ADT)</h3><p>An Abstract Data Type is a mathematical model for data types, where a data type is defined by its behavior (semantics) from the point of view of a user of the data.</p>',
                '11': '<h3>11.1 Programming Basics</h3><p>Programming involves writing instructions that a computer can execute to perform specific tasks. It requires understanding of programming concepts, syntax, and problem-solving techniques.</p><h3>11.2 Constructs</h3><p>Programming constructs are the building blocks of programs, including sequence, selection, and iteration.</p><h3>11.3 Structured Programming</h3><p>Structured programming is a programming paradigm that improves clarity, quality, and development time by using subroutines, block structures, and for and while loops.</p>',
                '12': '<h3>12.1 Program Development Life cycle</h3><p>The program development life cycle is a systematic process of developing software that includes requirements analysis, design, implementation, testing, deployment, and maintenance.</p><h3>12.2 Program Design</h3><p>Program design involves creating a detailed plan for how a program will be structured and how it will solve the problem at hand.</p><h3>12.3 Program Testing and Maintenance</h3><p>Program testing involves verifying that the software works as expected, while maintenance involves updating and improving the software after it has been deployed.</p>',
                '13': '<h3>13.1 User-defined data types</h3><p>User-defined data types allow programmers to create their own data types based on existing types, providing more flexibility and better organization of data.</p><h3>13.2 File organisation and access</h3><p>File organization refers to how data is arranged in a file, while file access refers to how data can be retrieved from or written to a file.</p><h3>13.3 Floating-point numbers, representation and manipulation</h3><p>Floating-point numbers are used to represent real numbers with fractional parts. They are represented using a combination of sign, mantissa, and exponent.</p>',
                '14': '<h3>14.1 Protocols technologies</h3><p>Network protocols are sets of rules that govern data exchange between devices in a network. They define how data is formatted, transmitted, and received.</p><h3>14.2 Circuit switching, packet switching</h3><p>Circuit switching and packet switching are two methods for transmitting data across a network. Circuit switching establishes a dedicated communication path, while packet switching breaks data into packets that can take different routes to the destination.</p>',
                '15': '<h3>15.1 Processors, Parallel Processing and Virtual Machines</h3><p>Modern processors use various techniques to improve performance, including parallel processing and virtualization. Virtual machines allow multiple operating systems to run on a single physical machine.</p><h3>15.2 Boolean Algebra and Logic Circuits</h3><p>Boolean algebra is a branch of mathematics that deals with operations on logical values. It is used to design and analyze digital circuits.</p>',
                '16': '<h3>16.1 Purposes of an Operating System (OS)</h3><p>An operating system manages computer hardware and software resources, provides common services for computer programs, and enables user interaction with the computer.</p><h3>16.2 Translation Software</h3><p>Translation software converts source code written in a high-level programming language into machine code that can be executed by the computer.</p>',
                '17': '<h3>17.1 Encryption, Encryption Protocols and Digital certificates</h3><p>Encryption is the process of converting data into a code to prevent unauthorized access. Encryption protocols define how encryption is used in communications, while digital certificates verify the identity of entities in digital communications.</p>',
                '18': '<h3>18.1 Artificial Intelligence</h3><p>Artificial Intelligence (AI) is a branch of computer science that aims to create intelligent machines that can simulate human thinking, learning, and behavior.</p>',
                '19': '<h3>19.1 Algorithms</h3><p>Algorithms are step-by-step procedures for solving problems or performing tasks. They are fundamental to computer science and programming.</p><h3>19.2 Recursion</h3><p>Recursion is a programming technique where a function calls itself to solve a problem. It is particularly useful for problems that can be broken down into smaller, similar subproblems.</p>',
                '20': '<h3>20.1 Programming Paradigms</h3><p>Programming paradigms are fundamental styles of programming, including procedural, object-oriented, functional, and logical programming.</p><h3>20.2 File Processing and Exception Handling</h3><p>File processing involves reading from and writing to files, while exception handling deals with errors and exceptional conditions that may occur during program execution.</p>'
            };
            return contents[chapter] || '<p>Content for this chapter is not yet available.</p>';
        }
        
        // Get chapter Mandarin translation
        function getChapterMandarin(chapter) {
            const translations = {
                '1': '信息表示涉及在计算机系统中表示信息的各种方法。计算机以二进制格式（0和1）存储和处理数据，但不同类型的数据需要不同的表示方法。',
                '2': '计算机网络是相互连接的计算设备的集合，可以交换数据和共享资源。互联网是一个全球性的网络，连接着全球数十亿台设备。',
                '3': '计算机系统由协同工作以处理数据的硬件组件组成。主要组件包括CPU、内存、存储设备、输入设备和输出设备。',
                '4': 'CPU是计算机的大脑，负责执行指令。它由算术逻辑单元（ALU）、控制单元（CU）和寄存器组成。',
                '5': '操作系统（OS）是系统软件，管理计算机硬件和软件资源，并为计算机程序提供通用服务。',
                '6': '数据安全涉及保护数字数据免受未经授权的访问、损坏或盗窃，贯穿其整个生命周期。',
                '7': '计算机伦理处理因使用计算机和信息技术而产生的道德问题。所有权指与知识产权相关的法律权利。',
                '8': '数据库是结构化信息或数据的组织集合，通常以电子方式存储在计算机系统中。',
                '9': '计算思维是一个解决问题的过程，涉及理解和解决复杂问题的各种技术和策略。',
                '10': '数据类型定义了可以在变量中存储的数据类型。数组是一种数据结构，它将相同数据类型的元素集合存储在连续的内存位置中。',
                '11': '编程涉及编写计算机可以执行以执行特定任务的指令。它需要理解编程概念、语法和解决问题的技巧。',
                '12': '程序开发生命周期是开发软件的系统过程，包括需求分析、设计、实现、测试、部署和维护。',
                '13': '用户定义的数据类型允许程序员基于现有类型创建自己的数据类型，提供更大的灵活性和更好的数据组织。',
                '14': '网络协议是管理网络中设备间数据交换的规则集。它们定义了数据的格式、传输和接收方式。',
                '15': '现代处理器使用各种技术来提高性能，包括并行处理和虚拟化。虚拟机允许多个操作系统在单个物理机上运行。',
                '16': '操作系统管理计算机硬件和软件资源，为计算机程序提供通用服务，并使用户能够与计算机交互。',
                '17': '加密是将数据转换为代码以防止未经授权访问的过程。加密协议定义了如何在通信中使用加密，而数字证书验证数字通信中实体的身份。',
                '18': '人工智能（AI）是计算机科学的一个分支，旨在创建能够模拟人类思维、学习和行为的智能机器。',
                '19': '算法是解决问题或执行任务的逐步过程。它们是计算机科学和编程的基础。',
                '20': '编程范式是编程的基本风格，包括过程式、面向对象、函数式和逻辑编程。'
            };
            return translations[chapter] || '此章节的中文翻译尚不可用。';
        }
        
        // Language toggle
        languageToggle.addEventListener('click', () => {
            isMandarin = !isMandarin;
            currentLang.textContent = isMandarin ? '中文' : 'EN';
            
            // Show notification
            showNotification(`Language changed to ${isMandarin ? 'Mandarin' : 'English'}`, 'info');
            
            // If on syllabus page, reload chapter content with new language
            const syllabusPage = document.getElementById('syllabus-page');
            if (syllabusPage.classList.contains('active')) {
                const chapterContent = document.getElementById('chapter-content');
                if (chapterContent.style.display === 'block') {
                    const chapterTitle = document.getElementById('chapter-title').textContent;
                    const chapter = chapterTitle.split(' ')[1];
                    if (chapter) {
                        loadChapterContent(chapter);
                    }
                }
            }
        });
        
        // Form submissions
        homeworkForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get form data
            const assignmentId = document.getElementById('assignment-select').value;
            const studentName = document.getElementById('student-name').value;
            const studentId = document.getElementById('student-id').value;
            const file = document.getElementById('homework-file').files[0];
            const comments = document.getElementById('homework-comments').value;
            
            // Get assignment title
            const assignments = JSON.parse(localStorage.getItem('cs_assignments') || '[]');
            const assignment = assignments.find(a => a.id == assignmentId);
            
            // Create new submission
            const submissions = JSON.parse(localStorage.getItem('cs_submissions') || '[]');
            const newSubmission = {
                id: Date.now(),
                assignmentId: parseInt(assignmentId),
                assignmentTitle: assignment ? assignment.title : 'Unknown Assignment',
                studentName,
                studentId,
                submissionDate: new Date().toISOString().split('T')[0],
                status: 'submitted',
                grade: null,
                feedback: 'Your submission has been received and is currently being reviewed.'
            };
            
            submissions.push(newSubmission);
            localStorage.setItem('cs_submissions', JSON.stringify(submissions));
            
            // Show notification
            showNotification('Homework submitted successfully!', 'success');
            
            // Reset form
            homeworkForm.reset();
            
            // Reload submissions
            loadData();
        });
        
        // Modal functions
        function showModal(title, body, confirmCallback) {
            modalTitle.textContent = title;
            modalBody.innerHTML = body;
            modal.classList.add('active');
            
            // Set confirm callback
            modalConfirm.onclick = () => {
                if (confirmCallback) confirmCallback();
                closeModal();
            };
        }
        
        function closeModal() {
            modal.classList.remove('active');
        }
        
        modalClose.addEventListener('click', closeModal);
        modalCancel.addEventListener('click', closeModal);
        
        // Click outside modal to close
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
        
        // Notification function
        function showNotification(message, type = 'success') {
            notificationMessage.textContent = message;
            
            // Set notification class based on type
            notification.className = 'notification';
            if (type === 'success') {
                notification.classList.add('notification-success');
            } else if (type === 'error') {
                notification.classList.add('notification-error');
            } else if (type === 'info') {
                notification.classList.add('notification-info');
            }
            
            // Show notification
            notification.classList.add('show');
            
            // Hide after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Resource download buttons
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('btn-primary') && e.target.textContent === 'Download') {
                const resourceId = e.target.getAttribute('data-resource-id');
                const resources = JSON.parse(localStorage.getItem('cs_resources') || '[]');
                const resource = resources.find(r => r.id == resourceId);
                
                if (resource) {
                    showNotification(`Downloading ${resource.name}...`, 'info');
                    // In a real implementation, this would trigger an actual download
                }
            }
        });
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            initializeData();
            loadData();
        });
    </script>
</body>
</html>
